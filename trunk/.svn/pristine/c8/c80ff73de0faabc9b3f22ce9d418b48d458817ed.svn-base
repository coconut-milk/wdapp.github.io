!function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){!function(){var b=1e4;function t(e){try{window.PeerConnection=window.PeerConnection||window.webkitPeerConnection00||window.webkitRTCPeerConnection||window.mozRTCPeerConnection,window.URL=window.URL||window.webkitURL||window.msURL||window.oURL,window.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.nativeRTCIceCandidate=window.mozRTCIceCandidate||window.RTCIceCandidate,window.nativeRTCSessionDescription=window.mozRTCSessionDescription||window.RTCSessionDescription}catch(t){}this.usersPcs={length:0},this.local={type:{video:!1,audio:!1},video:{},audio:{}},this.isRequesting=!1,this.requestInteraction=function(t,n){l("Interaction","请求互动"),this.local.type=t,this.isRequesting=!0,this.setRequestTimeoutTimer(),this.createLocalMedia(function(e){e?"function"==typeof window.on_cc_live_interaction_error&&window.on_cc_live_interaction_error(d.interaction.local.type,e,"创建音视频信息出错"):I.requestInteraction(t,n)})},this.setCallingTimer=function(){d.interaction.interactionTime=0,d.interaction.interactionTimeInterval=setInterval(function(){if(++d.interaction.interactionTime,"function"==typeof window.on_cc_live_interaction_interval){var e=d.interaction.local.type,t=d.interaction.interactionTime;window.on_cc_live_interaction_interval(e,t)}},1e3)},this.clearCallingTimer=function(){d.interaction.interactionTime=0,clearInterval(d.interaction.interactionTimeInterval)},this.setRequestTimeoutTimer=function(){d.interaction.REQUEST_INTERACTION_TIMEOUT=setTimeout(function(){d.interaction.REQUEST_INTERACTION_TIMEOUT=-1,d.interaction.hangupInteraction(S.viewerid),d.interaction.stopLocalStream(),d.interaction.isRequesting=!1,$("#interactionLocalVideo")[0].src="",$("#videoInteraction").hide(),"function"==typeof window.on_cc_live_interaction_request_timeout&&window.on_cc_live_interaction_request_timeout(d.interaction.local.type)},6e4)},this.clearRequestTimeoutTimer=function(){0<d.interaction.REQUEST_INTERACTION_TIMEOUT&&(clearTimeout(d.interaction.REQUEST_INTERACTION_TIMEOUT),d.interaction.REQUEST_INTERACTION_TIMEOUT=-1)},this.stopLocalStream=function(){if(d.interaction.local.video.stream)try{d.interaction.local.video.stream.getTracks().forEach(function(e){e.stop()})}catch(t){}if(d.interaction.local.audio.stream)try{d.interaction.local.audio.stream.getTracks().forEach(function(e){e.stop()})}catch(t){}},this.cancelInteraction=function(){d.interaction.isRequesting=!1,"function"==typeof window.on_cc_live_interaction_cancal&&window.on_cc_live_interaction_cancal(d.interaction.local.type)},this.disconnectInteraction=function(o){S.openSound(),this.clearRequestTimeoutTimer(),o==S.viewerid?$.each(d.interaction.usersPcs,function(e,t){var n=t.pc;if(null==n)return!0;if(n.close(),n=null,d.interaction.usersPcs[e]){delete d.interaction.usersPcs[e];var i=d.interaction.usersPcs.length-1;d.interaction.usersPcs.length=i<0?0:i}}):$.each(d.interaction.usersPcs,function(e,t){var n=t.pc;if(!n)return!0;if(e!=o)return!0;if(n.close(),n=null,d.interaction.usersPcs[e]){delete d.interaction.usersPcs[e];var i=d.interaction.usersPcs.length-1;d.interaction.usersPcs.length=i<0?0:i}}),0==d.interaction.usersPcs.length&&this.stopLocalStream(),d.interaction.isInteractioning=!1,d.interaction.isRequesting=!1},this.createLocalAudioAndVideoMedia=function(t){var n=this;getUserMedia.call(navigator,{video:!0,audio:!0},function(e){n.local.video.stream=e,t&&"function"==typeof t&&t(e)},function(e){l("Interaction","getUserMedia error: "+e),t&&"function"==typeof t&&t(e)})},this.createLocalAudioMedia=function(t){var n=this;getUserMedia.call(navigator,{video:!1,audio:!0},function(e){n.local.audio.stream=e,t&&"function"==typeof t&&t(e)},function(e){l("Interaction","getUserMedia error: "+e),t&&"function"==typeof t&&t(e)})},this.createLocalMedia=function(t){var n=this,i=n.local.type;getUserMedia.call(navigator,i,function(e){i.video?n.local.video.stream=e:n.local.audio.stream=e,"function"==typeof window.on_cc_live_interaction_local_media&&window.on_cc_live_interaction_local_media(i,e),t&&"function"==typeof t&&t()},function(e){l("Interaction","getUserMedia error: "+e),t&&"function"==typeof t&&t(e)})},this.iceServers={iceServers:[{url:"stun:turn.csslcloud.net:3478",credential:"bokecc",username:"cc"},{url:"turn:turn.csslcloud.net:3478",credential:"bokecc",username:"cc"}]},this.createAnswerPeerConnection=function(t){var n=new PeerConnection(this.iceServers);"audio"==t.type?(d.interaction.local.audio.stream||this.createLocalAudioMedia(),n.addStream(d.interaction.local.audio.stream)):(d.interaction.local.video.stream||this.createLocalAudioAndVideoMedia(),n.addStream(d.interaction.local.video.stream)),n.onaddstream=function(e){"function"==typeof window.on_cc_live_interaction_remote_media&&window.on_cc_live_interaction_remote_media(d.interaction.local.type,t,e.stream)},n.createAnswer(function(e){n.setLocalDescription(e),S.sendInteractionMessage(d.interaction.local.type,t.id,"answer",e)},function(e){l("Interaction","Failure callback: "+e)}),n.onicecandidate=function(e){null!==e.candidate&&S.sendInteractionMessage(d.interaction.local.type,t.id,"",e.candidate)},d.interaction.usersPcs[t.id]={pc:n,user:t},d.interaction.usersPcs.length+=1},this.createOfferPeerConnection=function(t){var n=new PeerConnection(this.iceServers),i=d.interaction.local.type;i.video?n.addStream(d.interaction.local.video.stream):n.addStream(d.interaction.local.audio.stream),n.onaddstream=function(e){"function"==typeof window.on_cc_live_interaction_remote_media&&window.on_cc_live_interaction_remote_media(d.interaction.local.type,t,e.stream)},n.oniceconnectionstatechange=function(e){l("Interaction","iceConnectionState ..."+n.iceConnectionState),"failed"==n.iceConnectionState&&(l("Interaction","iceConnectionState failed"),d.interaction.hangupInteraction(),"function"==typeof window.on_cc_live_interaction_disconnect&&window.on_cc_live_interaction_disconnect({disconnectid:S.viewerid}))},n.createOffer(function(e){n.setLocalDescription(e),S.sendInteractionMessage(i,t.id,"offer",e)},function(e){"function"==typeof window.on_cc_live_interaction_error&&window.on_cc_live_interaction_error(d.interaction.local.type,e,"createOfferPeerConnection")}),n.onicecandidate=function(e){null!==e.candidate&&S.sendInteractionMessage(i,t.id,"",e.candidate)},d.interaction.usersPcs[t.id]={pc:n,user:t},d.interaction.usersPcs.length+=1},this.id=e.interaction.id,this.isSupportInteraction=function(){return"https:"===window.location.protocol&&!!(PeerConnection&&URL&&getUserMedia&&nativeRTCIceCandidate&&nativeRTCSessionDescription)},this.hangupInteraction=function(e){this.isInteractioning?I.hangupInteraction(this.type,e):(this.isRequesting&&I.cancelRequestInteraction(this.type,e),this.stopLocalStream(),this.cancelInteraction())}}var o=function(e,t,n){$.ajax({url:e,type:"GET",dataType:"jsonp",data:t,xhrFields:{withCredentials:!0},success:function(e){e.success?"function"==typeof n?n(e):console.log&&console.log("onQuestionnairePublish is undefined"):n(e)},error:function(e){"function"==typeof n?n({errorCode:1,msg:"request error",result:e}):console.log&&console.log("onQuestionnairePublish is undefined")}})},M={DocModeType:{NormalMode:0,FreeMode:1},dpc:{},fastMode:!1,init:function(){this.dpc=new Dpc},appendDrawPanel:function(){var e='<iframe id="dpa" allow-scripts allowfullscreen allowusermedia frameborder="0" style="width: 100%;height:100%;"></iframe>';"isMobile"==O.isMobile()&&(e='<iframe id="dpa" allow-scripts allowfullscreen allowusermedia frameborder="0" style="width: 100%;height:100%;pointer-events: none;"></iframe>'),$("#drawPanel").parent().append(e),$("div#drawPanel").remove(),"function"==typeof window.on_cc_live_db_flip&&window.on_cc_live_db_flip()},pageChange:function(e){this.fastMode&&this.dpc.pageChange(e)},animationChange:function(e){this.fastMode&&this.dpc.animationChange(e)},history:function(e){this.fastMode&&this.dpc.history(e)},draw:function(e){this.fastMode&&this.dpc.draw(e)},clear:function(){this.fastMode&&this.dpc.clear()},reload:function(){this.fastMode&&this.dpc.reload()},setDocMode:function(e){this.fastMode&&this.dpc.setFreeDocMode(e)},getDocs:function(e){this.fastMode&&this.dpc.getDocs(S.roomid,S.userid,e)},changePageTo:function(e,t){this.fastMode&&this.dpc.changePageTo(e,t)},showMarquee:function(e){this.fastMode&&this.dpc.openMarquee(e)},closeMarquee:function(){this.fastMode&&this.dpc.closeMarquee()},openBarrage:function(e){this.fastMode&&this.dpc.openBarrage()},insertBarrage:function(e){if(this.fastMode){var t;try{t=JSON.parse(e)}catch(n){t={type:"text",content:e}}this.dpc.insertBarrage(t)}},closeBarrage:function(){this.fastMode&&this.dpc.closeBarrage()},docAdapt:function(e){if(this.fastMode){var t=e?"1":"2";this.dpc.setDisplayMode(t)}}},S={DocModeType:{NormalMode:0,FreeMode:1},MediaScaleMode:{scale43:"4:3",scale169:"16:9",scaleFull:"full",scaleNormal:"normal"},init:function(e){void 0===e&&(e={}),this.userid=$.trim(e.userid),this.roomid=$.trim(e.roomid),this.groupid=$.trim(e.groupid),this.viewername=$.trim(e.viewername),this.viewertoken=$.trim(e.viewertoken),this.forcibly=$.trim(e.forcibly),this.viewercustomua=$.trim(e.viewercustomua),this.language=$.trim(e.language),this.viewercustominfo=$.trim(e.viewercustominfo),this.ua=$.trim(e.ua),this.viewerid=$.trim(e.viewerid),this.upid=$.trim(e.upid),"string"==typeof e.fastMode?"false"===e.fastMode?this.fastMode=!1:this.fastMode=!0:"boolean"==typeof e.fastMode?this.fastMode=e.fastMode:this.fastMode=!1,M.fastMode=this.fastMode,this.forceNew=!1,"boolean"==typeof e.forceNew&&(this.forceNew=e.forceNew);var t=this,n=["//static.csslcloud.net/js/socket.io.js","//static.csslcloud.net/js/report.js"];if(M.fastMode&&n.push("//image.csslcloud.net/js/dpc.js?v="+Math.floor(1e4*Math.random())),"isMobile"==O.isMobile())0<$("#drawPanel").length&&(M.fastMode||n.push("//static.csslcloud.net/js/module/drawingBoard-2.0.0.js"));else{if(!function r(){var e=!0;if(0<=navigator.appVersion.indexOf("MSIE"))try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){e=!1}else navigator.plugins["Shockwave Flash"]||(e=!1);return e}()&&("function"==typeof S.onNotSupportFlash&&S.onNotSupportFlash(),"18452D400D6B81D5"==this.userid)){var i=$("#"+P.id).parent().height(),o=$("#"+P.id).parent().width();$("#"+P.id).append('<div style="z-index: 999999;"><p style="color: #0e0e0e; width: 260px;">您还没有安装flash播放器,请点击<a href="http://www.adobe.com/go/getflash" style="color: red;" target="_blank">这里</a>安装</p></div>').parent().css("z-index","999999");var a=$($("#"+P.id+" div p")[0]).height(),s=$($("#"+P.id+" div p")[0]).width();$("#"+P.id+" div").css({"margin-left":(o-s-60)/2+"px","margin-top":(i-a)/2+"px"}),setInterval(function(){$("#"+P.id).parent().show()},3e3)}n.push("//static.csslcloud.net/js/swfobject.js","//static.csslcloud.net/js/json3.min.js")}t.loadScript(n,function(){if(t.login(function e(){t.history=new c}),"isMobile"==O.isMobile()&&$.DrawingBoard){$("#drawPanel").parent().append('<canvas id="drawPanel" width="1200" height="1200" style="position: absolute;z-index:2;top:0;left: 0"></canvas><iframe id="dpa" src="" frameborder="0" style="position: absolute;top:0;left: 0"></iframe>'),$("div#drawPanel").remove(),$.DrawingBoard.config()}})},login:function(_){$.ajax({url:"//view.csslcloud.net/api/room/login",type:"GET",dataType:"jsonp",data:{roomid:this.roomid,userid:this.userid,groupid:this.groupid,viewername:this.viewername,viewertoken:this.viewertoken,forcibly:this.forcibly,viewercustomua:this.viewercustomua,viewercustominfo:this.viewercustominfo},success:function(e){if(e.success){var t="https:"===window.location.protocol,n=e.datas.pusherNode.primary;if(t&&n&&n.indexOf(":")){var i=n.split(":");if(2==i.length){var o=parseInt(i[1]);if(!isNaN(o)){var a=o+400;n=i[0]+":"+a}}}var s=document.location.protocol+"//"+n+"/"+e.datas.pusher.nsp,r=e.datas.viewer.key;I.options.pusherUrl=s,I.options.key=r,S.viewerid=e.datas.viewer.id,S.viewername=e.datas.viewer.name,S.isBan=e.datas.room.isBan,S.liveid=e.datas.liveId,S.upid=e.datas.upId,S.multiQuality=e.datas.room.multiQuality,S.documentDisplayMode=e.datas.room.documentDisplayMode,S.liveCountdown=e.datas.room.liveCountdown,S.groupId=e.datas.viewer.groupId,M.fastMode&&($("#documentDisplayMode").val(S.documentDisplayMode),M.appendDrawPanel(),M.init()),_();var c=e.datas.room.delayTime,u=e.datas.room.foreignPublish;(P.delay=c)<=0&&(b=5e3),P.foreignPublish=u,P.openHostMode=e.datas.room.openHostMode,P.dvr=e.datas.room.dvr,P.barrageData=e.datas.room.barrage,P.warmVideoId=e.datas.room.encryptWarmVideoId,P.viewerid=e.datas.viewer.id;var d=e.datas.room.playerBackgroundImageUri;if(d)(t="https:"===window.location.protocol)&&(d=d.replace(/http:/g,"https:"));else d="";P.backgroundImageUri=d,"function"==typeof S.playerBackgroundImageUri&&S.playerBackgroundImageUri(d);var l=e.datas.room.playerBackgroundHint;l||(l=""),P.backgroundHint=l,"function"==typeof S.playerBackgroundHint&&S.playerBackgroundHint(l);var f=e.datas.announcement;"function"==typeof S.onAnnouncementShow&&f&&S.onAnnouncementShow(f);var h=e.datas.room.desc;"function"==typeof S.onLiveDesc&&S.onLiveDesc(h);var p=e.datas.room.showUserCount;"function"==typeof S.showUserCount&&S.showUserCount(p);var g=e.datas.viewer.marquee;if("function"==typeof S.getMarquee&&S.getMarquee(g),"function"==typeof S.onLoginSuccess){var w={desc:e.datas.template.desc,type:e.datas.template.type,name:e.datas.template.name,id:e.datas.template.id},m={id:e.datas.viewer.id,groupId:e.datas.viewer.groupId,name:e.datas.viewer.name},v={live:e.datas.live,template:w,viewer:m};S.onLoginSuccess(v)}var y=e.datas.live;switch("function"==typeof S.onLiveTime&&S.onLiveTime(y),I.init(),"isMobile"==O.isMobile()?O.init():P.init(),e.datas.template.type){case 6:q.init(),S.sendPublicChatMsg=S.sendPrivateChatMsg=function(){return!1};break;case 5:N.init(),q.init(),k.init();break;case 4:N.init(),k.init(),S.sendQuestionMsg=function(){return!1};break;case 3:N.init(),S.sendQuestionMsg=function(){return!1};break;case 2:N.init(),q.init();break;default:N.init(),q.init(),k.init()}}else"function"==typeof S.onLoginError&&S.onLoginError(e)}})},logout:function(i){i&&($.ajax({url:"//view.csslcloud.net/api/live/logout",type:"GET",dataType:"jsonp",timeout:5e3,xhrFields:{withCredentials:!0},success:function(e){"function"==typeof i.success&&i.success(e)},error:function(e,t,n){"function"==typeof i.error&&i.error({errorcode:"100",msg:"退出失败",info:n})}}),I.socket.disconnect())},getScript:function(e,t){var n=!1,i=document.createElement("script");i.src=e,i.onload=i.onreadystatechange=function(){n||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(n=!0,t&&t())},document.body.appendChild(i)},loadScript:function(e,t){if("string"==typeof e){var n=e;(e=[]).push(n)}var i=this,o=function(e,t){i.getScript(e.shift(),function(){e.length?o(e,t):t&&t()})};o(e,t)},changeNickname:function(e){if(!e||"string"!=typeof e||20<e.length)return!1;I.socket.emit("change_nickname",e)},sendPublicChatMsg:function(e){!e||300<e.length||I.socket.emit("chat_message",e)},sendPrivateChatMsg:function(e,t,n){var i=(new Date).getHours(),o=(new Date).getMinutes(),a=(new Date).getSeconds();o=9<o?o:"0"+o,a=9<a?a:"0"+a;var s={fromuserid:this.viewerid,fromusername:this.viewername,touserid:e,tousername:t,msg:$.trim(n),time:i+":"+o+":"+a};I.socket.emit("private_chat",JSON.stringify(s))},sendQuestionMsg:function(e){if(e&&!(300<e.length)){var t={action:"question",value:{userId:this.viewerid,userName:this.viewername,content:e}};try{I.socket.emit("question",JSON.stringify(t))}catch(n){}}},barrage:function(e,t){if("isMobile"!=O.isMobile()){var n=$.trim(e);n&&(n=e.replace(/\[em2?_([0-9]*)\]/g,""),P.barrage({txt:n,color:null==t?16777215:t}))}},getLine:function(){return"isMobile"!=O.isMobile()?P.getLine():O.src},changeLine:function(e){"isMobile"==O.isMobile()?O.changeLine(e):P.changeLine(e)},onlyAudio:function(){"isMobile"==O.isMobile()?O.onlyAudio():P.onlyAudio()},changeVideoScale:function(e){"isMobile"!=O.isMobile()&&P.changeVideoScale(e)},setSound:function(e){"isMobile"!=O.isMobile()&&P.setSound(e)},answerRollcall:function(e,t){var n={rollcallId:e,userId:this.viewerid,userName:this.viewername,publisherId:t};I.socket.emit("answer_rollcall",JSON.stringify(n))},replyVote:function(e,t,n){var i={voteId:e,voteOption:t,publisherId:n};I.socket.emit("reply_vote",JSON.stringify(i))},docBarrage:function(e,t){$.trim(e)&&k.barrage({txt:e,color:null==t?16777215:t})},openBarrage:function(e){P.openBarrage(e)},openDocBarrage:function(e){"isMobile"!=O.isMobile()&&M.fastMode&&M.openBarrage(e)},insertDocBarrage:function(e){"isMobile"!=O.isMobile()&&M.fastMode&&M.insertBarrage(e)},closeDocBarrage:function(){"isMobile"!=O.isMobile()&&M.fastMode&&M.closeBarrage()},showControl:function(e){P.showControl(e)},livePlayerInit:function(){P.init()},openSound:function(){P.openSound()},closeSound:function(){P.closeSound()},docAdapt:function(e){M.fastMode?M.docAdapt(e):d.adapt=e},requestInteraction:function(e){d.interaction.requestInteraction(e)},hangupInteraction:function(){d.interaction.hangupInteraction()},enterInteractionRoom:function(e){var t=undefined;try{I.socket.emit("speak_enter")}catch(n){t=n}finally{"function"==typeof e&&e(t)}},sendInteractionMessage:function(e,t,n,i,o){var a="audio";e.video&&(a="audiovideo");var s={type:a,fromname:this.viewername,fromid:this.viewerid,fromrole:"student",toid:t,event:n,data:JSON.stringify(i)},r=undefined;try{I.socket.emit("speak_message",JSON.stringify(s))}catch(c){r=c}finally{"function"==typeof o&&o(r)}},showMarquee:function(e){P.showMarquee(e)},closeMarquee:function(){P.closeMarquee()},showMarqueeDoc:function(e){M.fastMode?M.showMarquee(e):k.showMarquee(e)},closeMarqueeDoc:function(){M.fastMode&&M.closeMarquee()},setDocMode:function(e){M.fastMode&&M.setDocMode(e)},getDocs:function(e){M.fastMode&&M.getDocs(e)},changePageTo:function(e,t){M.fastMode&&M.changePageTo(e,t)},submitQuestionnaire:function(e,i){if(e){var t={questionnaireid:e.questionnaireId,answers:JSON.stringify({subjectsAnswer:e.subjectsAnswer})};$.ajax({url:"//eva.csslcloud.net/api/questionnaire/submit",type:"GET",dataType:"jsonp",timeout:5e3,data:t,xhrFields:{withCredentials:!0},success:function(e){i?i(e):console.log&&console.log("no callback")},error:function(e,t,n){i&&i({errorCode:1,msg:"request was aborted",result:n})}})}},getPublishingQuestionnaire:function(){o("//eva.csslcloud.net/api/questionnaire/info",{},S.onQuestionnairePublish)},getPracticeInfo:function(e,t){var n={practiceId:e,sessionId:I.options.key};o("//eva.csslcloud.net/api/practice/info",n,t)},submitPracticeInfo:function(e,t,n){var i={practiceId:e,options:t,sessionId:I.options.key};o("//eva.csslcloud.net/api/practice/submit",i,n)},getPracticeStatisInfo:function(e,t){var n={practiceId:e,sessionId:I.options.key};o("//eva.csslcloud.net/api/practice/statis",n,t)},getPracticeRanking:function(e,t){var n={practiceId:e,sessionId:I.options.key};o("//eva.csslcloud.net/api/practice/ranking",n,t)}},a={init:function(){this.userId=S.userid,this.roomId=S.roomid,this.groupId=S.groupId,this.liveId=S.liveid,this.viewerId=S.viewerid,this.upId=S.upid}},I={options:{pusherUrl:"",key:"",maxMessageCount:300,userId:"",roomId:"",livePlayerId:"",drawPanel:""},drawjson:[],pagechangedata:[],init:function(){var e="isMobile"==O.isMobile()?1:0;S.forceNew?(this.socket=io.connect(this.options.pusherUrl+"?sessionid="+I.options.key+"&platform=1&terminal="+e,{forceNew:!0}),l("forceNew: true")):(this.socket=io.connect(this.options.pusherUrl,{query:{sessionid:I.options.key,platform:1,terminal:e}}),l("forceNew: false")),this.bind()},bind:function(){var n=!1;this.socket.on("connect",function(){"function"==typeof window.onSocketConnect&&window.onSocketConnect()}),this.socket.on("disconnect",function(){"function"==typeof window.onSocketDisconnect&&window.onSocketDisconnect()}),this.socket.on("page_change",function(e){if(e&&"string"==typeof e&&I.pagechangedata.push(JSON.parse(e)),"function"==typeof window.on_cc_live_dw_page_change&&window.on_cc_live_dw_page_change(e),"function"==typeof S.onPageChange){var t=JSON.parse(e),n={docId:t.value.docid,docName:t.value.fileName,docTotalPage:t.value.totalPage,pageNum:t.value.page};S.onPageChange(n)}}),this.socket.on("change_nickname",function(e){S.viewername=e,"function"==typeof S.onChangeNickname&&S.onChangeNickname(e)}),this.socket.on("animation_change",function(e){"function"==typeof window.on_cc_live_dw_animation_change&&window.on_cc_live_dw_animation_change(e)}),this.socket.on("draw",function(e){e&&"string"==typeof e&&I.drawjson.push(JSON.parse(e)),"function"==typeof window.on_cc_live_dw_draw&&window.on_cc_live_dw_draw(e)}),this.socket.on("room_user_count",function(e){"function"==typeof S.onUserCountMessage&&S.onUserCountMessage(e)}),this.socket.on("publish_stream",function(e){P&&(P.isPublishing=1),P&&P.start&&P.start(),"function"==typeof S.onLiveStart&&S.onLiveStart(e)}),this.socket.on("end_stream",function(e){setTimeout(function(){P&&(P.isPublishing=0),P&&P.end&&P.end(),k&&k.clear&&k.clear(),M.clear(),"function"==typeof S.onLiveEnd&&S.onLiveEnd(e)},function t(){var e=P.delay;(isNaN(e)||e<0)&&(e=0);return"isMobile"==O.isMobile()?0===e?5e3:1e4:0===e?1300:3e3}())}),this.socket.on("kick_out",function(e){I.socket.disconnect(),"function"==typeof S.onKickOut&&S.onKickOut(e),O.isIPad()||O.isIPhone()||O.isAndroid()||O.isWindowsPhone()||P.getFlash()._kickOff()}),this.socket.on("announcement",function(e){"release"==(e=f(e)).action?"function"==typeof S.onAnnouncementRelease&&S.onAnnouncementRelease(e.announcement):"remove"==e.action&&"function"==typeof S.onAnnouncementRemove&&S.onAnnouncementRemove(e)}),this.socket.on("start_rollcall",function(e){e=f(e),"function"==typeof S.onStartRollCall&&S.onStartRollCall(e)}),this.socket.on("start_lottery",function(e){e=f(e),"function"==typeof S.onStartLottery&&S.onStartLottery(e)}),this.socket.on("win_lottery",function(e){e=f(e),"function"==typeof S.onWinLottery&&S.onWinLottery(e)}),this.socket.on("stop_lottery",function(e){e=f(e),"function"==typeof S.onStopLottery&&S.onStopLottery(e)}),this.socket.on("start_vote",function(e){e=f(e),"function"==typeof S.onStartVote&&S.onStartVote(e)}),this.socket.on("stop_vote",function(e){e=f(e),"function"==typeof S.onStopVote&&S.onStopVote(e)}),this.socket.on("vote_result",function(e){e=f(e),"function"==typeof S.onVoteResult&&S.onVoteResult(e)}),this.socket.on("ban_stream",function(e){e=f(e),S.isBan=1,"isMobile"==O.isMobile()?O.ban():P.banLive(),"function"==typeof S.onBanStream&&S.onBanStream(e)}),this.socket.on("unban_stream",function(e){e=f(e),S.isBan=0,"isMobile"==O.isMobile()?O.unban():P.unbanLive(),"function"==typeof S.onUnBanStream&&S.onUnBanStream(e)}),this.socket.on("room_setting",function(e){if(e=f(e),"function"==typeof S.onRoomSetting&&S.onRoomSetting(e),e.layout_video_main!=n){var t=e.layout_video_main;"function"==typeof S.onSwitchVideoDoc&&S.onSwitchVideoDoc(t),n=t}}),this.socket.on("silence_user_chat_message",function(e){"function"==typeof S.onSilenceUserChatMessage&&S.onSilenceUserChatMessage(f(e))}),this.socket.on("accept_speak",function(e){"function"==typeof window.on_cc_live_accept_interaction&&window.on_cc_live_accept_interaction(f(e))}),this.socket.on("speak_message",function(e){"function"==typeof window.on_cc_live_interaction_message&&window.on_cc_live_interaction_message(f(e))}),this.socket.on("speak_peer_list",function(e){"function"==typeof window.on_cc_live_interaction_chatusers&&window.on_cc_live_interaction_chatusers(f(e))}),this.socket.on("speak_disconnect",function(e){"function"==typeof window.on_cc_live_interaction_disconnect&&window.on_cc_live_interaction_disconnect(f(e))}),this.socket.on("broadcast_msg",function(e){"function"==typeof S.onBroadcastMsg&&S.onBroadcastMsg(f(e).value)}),this.socket.on("publish_question",function(e){"function"==typeof S.onQaPublish&&S.onQaPublish(f(e))}),this.socket.on("questionnaire_publish",function(e){e=f(e),"function"==typeof S.onQuestionnairePublish&&S.onQuestionnairePublish(e)}),this.socket.on("questionnaire_publish_stop",function(e){e=f(e),"function"==typeof S.onQuestionnairePublishStop&&S.onQuestionnairePublishStop(e)}),this.socket.on("practice_publish",function(e){e=f(e),"function"==typeof S.onPracticePublish&&S.onPracticePublish(e)}),this.socket.on("practice_stop",function(e){e=f(e),"function"==typeof S.onPracticePublishStop&&S.onPracticePublishStop(e)}),this.socket.on("practice_close",function(e){e=f(e),"function"==typeof S.onPracticeClose&&S.onPracticeClose(e)}),this.socket.on("prize_send",function(e){e=f(e),"function"==typeof S.onPrizeSend&&S.onPrizeSend(e)}),this.socket.on("questionnaire_publish_statis",function(e){e=f(e),"function"==typeof S.onQuestionnairePublishStatis&&S.onQuestionnairePublishStatis(e)}),this.socket.on("room_teachers",function(e){"function"==typeof S.onOnlineTeachers&&S.onOnlineTeachers(f(e))}),this.socket.on("external_questionnaire_publish",function(e){"function"==typeof S.onExternalQuestionnairePublish&&S.onExternalQuestionnairePublish(f(e))}),this.socket.on("ban_chat",function(e){"function"==typeof S.onBanChat&&S.onBanChat(f(e))}),this.socket.on("unban_chat",function(e){"function"==typeof S.onUnBanChat&&S.onUnBanChat(f(e))}),this.socket.on("switch_source",function(e){"function"==typeof S.onSwitchSource&&S.onSwitchSource(e)});var t=this;setTimeout(function(){try{t.socket.emit("room_user_count")}catch(e){}try{t.socket.emit("room_teachers")}catch(e){}},1500),setInterval(function(){try{t.socket.emit("room_user_count")}catch(e){}try{t.socket.emit("room_teachers")}catch(e){}},15e3)},requestInteraction:function(e,t){var n="audio";e.video&&(n+="video");var i={viewerId:S.viewerid,viewerName:S.viewername,type:n},o=undefined;try{this.socket.emit("request_speak",JSON.stringify(i))}catch(a){o=a}finally{"function"==typeof t&&t(o)}},cancelRequestInteraction:function(e,t){var n={viewerId:this.viewerid,viewerName:this.viewername,type:e};l("interaction","取消申请："+JSON.stringify(n));var i=undefined;try{this.socket.emit("cancel_request_speak",JSON.stringify(n))}catch(o){i=o}finally{"function"==typeof t&&t(i)}},hangupInteraction:function(e,t){var n={viewerId:S.viewerid,viewerName:S.viewername,type:e};l("interaction","挂断事件："+JSON.stringify(n));var i=undefined;try{this.socket.emit("hangup_interaction",JSON.stringify(n))}catch(o){i=o}finally{"function"==typeof t&&t(i)}}},P={id:"livePlayer",swfUrl:"//zeus.csslcloud.net/flash/Player.swf",isReady:!1,isPublishing:0,delay:"",foreignPublish:"",init:function(){var e={userid:S.userid,roomid:S.roomid,foreignPublish:this.foreignPublish,warmvideoid:this.warmVideoId,openhostmode:this.openHostMode,dvr:this.dvr,barrage:this.barrageData,backgroundImageUri:this.backgroundImageUri,backgroundHint:this.backgroundHint,countDownTime:S.liveCountdown,openMultiQuality:S.multiQuality,language:S.language||"",type:"liveplayer",upid:S.upid,viewerid:this.viewerid,ua:1},t=this.delay;0<t&&(e.buffer=t);swfobject.embedSWF(this.swfUrl,this.id,"100%","100%","10.0.0","/flash/expressInstall.swf",e,{allowFullscreen:"true",allowScriptAccess:"always",wmode:"transparent"})},getFlash:function(){return swfobject.getObjectById(this.id)},getPlayerTime:function(){var e=parseInt(this.getFlash()._time());return isNaN(e)||e<0?0:e},start:function(){if("isMobile"==O.isMobile()){if(S.isBan)return $("#livePlayer").css({"text-align":"center",color:"white","font-size":"18px","line-height":"232px"}),void $("#livePlayer").html("<p>直播已封禁，请联系管理员</p>");setTimeout(function(){O.init()},b)}else{if(!this.getFlash())return;this.isPublishing=1,this.getFlash()._streamStart()}},end:function(){if("isMobile"==O.isMobile())setTimeout(function(){O.end()},b);else{if(!this.getFlash())return;this.isPublishing=0,this.getFlash()._streamEnd()}},barrage:function(e){e&&this.getFlash()&&this.getFlash()._jsTOASbarrage&&this.getFlash()._jsTOASbarrage(e)},getLine:function(){var e=this.getFlash().getLine();return e&&(e=JSON.parse(e)),e},changeLine:function(e){this.getFlash().changeLine(e)},changeVideoScale:function(e){this.getFlash()._showScreenScale(e)},onlyAudio:function(){this.getFlash()._onlyAudio()},setSound:function(e){this.getFlash()._SetSound(e)},openSound:function(){this.getFlash()&&this.getFlash()._onSound()},closeSound:function(){this.getFlash()&&this.getFlash()._unSound()},openBarrage:function(e){this.getFlash()&&this.getFlash()._barrage(e)},showControl:function(e){this.getFlash()&&this.getFlash()._ShowControl(e)},banLive:function(){this.getFlash()&&this.getFlash()._banLive()},unbanLive:function(){this.getFlash()&&this.getFlash()._unbanLive()},showMarquee:function(e){e&&this.getFlash()&&this.getFlash()._showMarqueePlugin(e)},closeMarquee:function(){this.getFlash()&&this.getFlash()._closeMarqueePlugin({name:"PluginForMarquee"})}};var k={id:"drawPanel",isReady:!(window._onStart=function(){P.isReady=!0}),isProcessing:!1,getWidth:function(){return"100%"},getHeight:function(){return"100%"},swfUrl:"//zeus.csslcloud.net/flash/Player.swf",init:function(){O.isIPad()||O.isIPhone()||O.isAndroid()||O.isWindowsPhone()||M.fastMode||swfobject.embedSWF(this.swfUrl,this.id,this.getWidth(),this.getHeight(),"10.0.0","/flash/expressInstall.swf",{type:"drawpanel"},{allowFullscreen:"true",allowScriptAccess:"always",wmode:"transparent"},{})},getSwf:function(){if(this.isReady)return swfobject.getObjectById(this.id)},clear:function(){var e=this.getSwf();e&&(e._streamEnd(),I.pagechangedata=[],I.drawjson=[])},draw:function(e){var t=this.getSwf();t&&t.draw(e)},draws:function(e){var t,n=this.getSwf();n&&(t=e,setTimeout(function(){n.drawList(t)}))},filp:function(e){var t=this.getSwf();if(t){var n=S.documentDisplayMode;this.displayMode=1==n?"auto":2==n?"width":"auto",d.adapt!==undefined&&(this.displayMode=d.adapt?"auto":"width");var i=JSON.parse(e),o=i.url;"https:"===window.location.protocol&&(i.url=o.replace(/http:/g,"https:")),t.filp(JSON.stringify(i),this.displayMode)}},animationFilp:function(e){var t=this.getSwf();t&&t.animation(e)},barrage:function(e){e&&this.getSwf()&&this.getSwf()._jsTOASbarrage&&this.getSwf()._jsTOASbarrage(e)},showMarquee:function(e){e&&this.getSwf()&&this.getSwf().showMarqueeLight(e)}},y=[],_=[],T=[],C=!1,c=function(){$.ajax({url:"//view.csslcloud.net/api/view/info?userid="+S.userid+"&roomid="+S.roomid,type:"GET",dataType:"jsonp",success:function(e){if(e.success&&e.datas){var t=e.datas.meta;if(t&&(P.isPublishing=t.isPublishing,1==t.isPublishing)){for(var n=t.answer?t.answer:[],i=t.question?t.question:[],o=t.broadcast?t.broadcast:[],a=0;a<n.length;a++)for(var s=n[a],r=0;r<i.length;r++){(c=i[r]).encryptId==s.encryptId&&(s.questionUserId=c.questionUserId)}if(i&&i.length)for(a=0;a<i.length;a++){var c=i[a];"function"==typeof S.onQuestion&&S.onQuestion(JSON.stringify({action:"question",value:{id:c.encryptId,content:c.content,userId:c.questionUserId,groupId:c.groupId,userName:c.questionUserName,isPublish:c.isPublish,triggerTime:c.triggerTime,userAvatar:c.userAvatar}}))}if(n&&n.length)for(a=0;a<n.length;a++){s=n[a];"function"==typeof S.onAnswer&&S.onAnswer(JSON.stringify({action:"answer",value:{questionId:s.encryptId,isPrivate:s.isPrivate,content:s.content,userId:s.answerUserId,groupId:s.groupId,userName:s.answerUserName,questionUserId:s.questionUserId,triggerTime:s.triggerTime,userAvatar:s.userAvatar}}))}if(o&&o.length)for(a=0;a<o.length;a++){var u=o[a];"function"==typeof S.onBroadcastMsg&&S.onBroadcastMsg({content:u.content,time:u.time})}"isMobile"==O.isMobile()&&$.DrawingBoard&&$.DrawingBoard.history(t),M.history(t);var d=t.chatLog;if(d&&d.length){var l=[];for(a=0;a<d.length;a++){var f=d[a];l.push({userid:f.userId,username:f.userName,userrole:f.userRole,useravatar:f.userAvatar,groupId:f.groupId,msg:f.content,time:f.time,chatId:f.chatId,status:f.status,usercustommark:f.userCustomMark})}if("function"==typeof S.onPublicChatMessage)for(var h=0;h<l.length;h++)S.onPublicChatMessage(JSON.stringify(l[h]))}if(!M.fastMode){var p=t.pageChange;if(p&&p.length){p.sort(function(e,t){return parseInt(e.time)-parseInt(t.time)});var g=p.pop();_.push(JSON.stringify({fileName:g.docName,totalPage:g.docTotalPage,docid:g.encryptDocId,url:g.url,page:g.pageNum,time:g.time,useSDK:g.useSDK}))}var w=t.animation;if(w&&w.length){w.sort(function(e,t){return parseInt(e.time)-parseInt(t.time)});var m=w.pop();T.push(JSON.stringify({fileName:m.docName,totalPage:m.docTotalPage,docid:m.encryptDocId,url:m.url,page:m.pageNum,time:m.time,step:m.step}))}var v=t.draw;if(v&&v.length)for(a=0;a<v.length;a++)y.push(v[a].data)}C=!0}}}})},d=new function(e){this.interaction=new t(e)}({interaction:{id:"interactionPlayer",width:"100%",height:"100%"}});window.on_drampanel_ready=function(){k.isReady=!0,setTimeout(function(){!function o(){if(C){if(!M.fastMode&&(y.length&&(k.draws(y),y=[]),_.length)){var e=_.pop();if(!e)return;if(k.filp(e),T.length){var t=T.pop(),n=f(t),i=f(e);i.docid==n.docid&&i.time<=n.time&&k.animationFilp(t)}_=[]}}else setTimeout(function(){o()},3e3)}()},1500)},window.on_cc_live_dw_draw=function(t){setTimeout(function(){M.draw(t)},e()),setTimeout(function(){var e=f(t);k.draw(JSON.stringify(e.value.data))},e()),"isMobile"==O.isMobile()&&setTimeout(function(){$.DrawingBoard&&$.DrawingBoard.db(t)},e())},window.on_cc_live_dw_page_change=function(t){setTimeout(function(){M.pageChange(t)},e()),setTimeout(function(){var e=f(t);k.filp(JSON.stringify(e.value))},e()),"isMobile"==O.isMobile()&&setTimeout(function(){$.DrawingBoard&&$.DrawingBoard.db(t)},e())},window.on_cc_live_dw_animation_change=function(t){setTimeout(function(){M.animationChange(t)},e()),setTimeout(function(){var e=f(t);k.animationFilp(JSON.stringify(e.value))},e()),"isMobile"==O.isMobile()&&setTimeout(function(){$.DrawingBoard&&$.DrawingBoard.db(t)},e())};var N={init:function(){I.socket.on("chat_message",function(e){"function"==typeof S.onPublicChatMessage&&S.onPublicChatMessage(e)}),I.socket.on("chat_log_manage",function(e){"function"==typeof S.onPublicChatLogManage&&S.onPublicChatLogManage(e)}),I.socket.on("notification",function(e){"function"==typeof S.onNotification&&S.onNotification(e)}),I.socket.on("information",function(e){"function"==typeof S.onInformation&&S.onInformation(e)}),I.socket.on("private_chat_self",function(e){"function"==typeof S.onPrivateChatMessage&&S.onPrivateChatMessage(e)}),I.socket.on("private_chat",function(e){"function"==typeof S.onPrivateAnswer&&S.onPrivateAnswer(e)}),I.socket.on("room_context",function(e){}),I.socket.on("custom_message",function(e){"function"==typeof S.onCustomChatMessage&&S.onCustomChatMessage(e)})}},q={init:function(){I.socket.on("question",function(e){"function"==typeof S.onQuestion&&S.onQuestion(e),"function"==typeof S.onQuestionSend&&S.onQuestionSend(e)}),I.socket.on("answer",function(e){"function"==typeof S.onAnswer&&S.onAnswer(e),"function"==typeof S.onAnswerSend&&S.onAnswerSend(e)})}},s={addEvents:function(e,t,n){document.addEventListener?s.addEvents=function(e,t,n){e.addEventListener(t,n,!1)}:s.addEvents=function(e,t,n){e.attachEvent("on"+t,function(){n.call(e,arguments)})},s.addEvents(e,t,n)}},O={src:"",audio:!1,line:0,init:function(){var o=this;$.ajax({url:"//zeus.csslcloud.net/api/hls/play",type:"GET",dataType:"json",data:{roomid:S.roomid,userid:S.userid},success:function(e){if(0==e.live.status){o.m3u8=e.live.m3u8,o.src=e.live.m3u8,o.secureHosts=e.live.secureHosts||[],o.audioM3u8=e.live.audioM3u8||[],o.audioSecureHosts=e.live.audioSecureHosts||[],o.isHttps="https:"===window.location.protocol,a.init(),a.liveId=e.live.liveId,o.isHttps&&o.secureHosts&&o.secureHosts.length&&(o.m3u8=o.secureHosts),o.appendVideo(o.m3u8[0]),"function"==typeof S.onLiveStarting&&S.onLiveStarting();var t=$("#livePlayer>video")[0],n=0,i=function(){3<=n?t.removeEventListener("error",i):(t.removeEventListener("error",i),setTimeout(function(){n++,t.src=t.src,s.addEvents(t,"error",i,!1)},1e3))};s.addEvents(t,"error",i,!1)}else if(S.isBan)return $("#livePlayer").css({"text-align":"center",color:"white","font-size":"18px","line-height":"232px"}),void $("#livePlayer").html("<p>直播已封禁，请联系管理员</p>")}})},appendVideo:function(e){var t='<video id="player_live" webkit-playsinline playsinline controls autoplay x-webkit-airplay="allow" x5-playsinline width="100%" height="100%" src="'+e+'"></video>';$("#"+P.id).html(t);var n=document.getElementById("player_live");S.onKickOut=function(){$("#"+P.id).html("")},this.report=new ReportLog(a,1,11,n,!0)},ban:function(){$("#livePlayer").css({"text-align":"center",color:"white","font-size":"18px","line-height":"232px"}),$("#livePlayer").html("<p>直播已封禁，请联系管理员</p>")},unban:function(){$("#livePlayer").css({"text-align":"",color:"","font-size":"","line-height":""}),this.init()},end:function(){$("#"+P.id).html(""),this.report.stopTimer()},appendDoc:function(e){"https:"===window.location.protocol&&(e=e.replace(/http:/g,"https:"));var t='<img src="'+e+'" />';$("#"+k.id).html(t)},changeLine:function(e){$("#"+P.id).find("video").attr("src",this.m3u8[e]),this.line=e,O.audio&&(audio.src="",audio.src=this.m3u8[this.line],audio.play())},onlyAudio:function(){var e=$("#"+P.id).find("video");O.audio=!O.audio,O.audio?(this.isHttps&&this.audioSecureHosts&&this.audioSecureHosts.length?this.m3u8=this.audioSecureHosts:this.m3u8=this.audioM3u8,audio=new Audio,audio.src=this.m3u8[this.line],audio.play()):(this.isHttps&&this.secureHosts&&this.secureHosts.length?this.m3u8=this.secureHosts:this.m3u8=this.src,audio.src="",e.attr("src",this.m3u8[this.line]))},isMobile:function(){if(this.isIPad()||this.isIPhone()||this.isAndroid()||this.isWindowsPhone())return"isMobile"},isIPad:function(){return null!=navigator.userAgent.match(/iPad/i)},isIPhone:function(){return null!=navigator.userAgent.match(/iPhone/i)},isAndroid:function(){return null!=navigator.userAgent.match(/Android/i)},isWindowsPhone:function(){return null!=navigator.userAgent.match(/Windows Phone/i)}};window.on_cc_live_accept_interaction=function(e){S.closeSound(),d.interaction.clearRequestTimeoutTimer(),S.enterInteractionRoom(),d.interaction.isInteractioning=!0,d.interaction.setCallingTimer(),"function"==typeof window.on_cc_live_interaction_accept&&window.on_cc_live_interaction_accept(d.interaction.local.type,f(e))},window.on_cc_live_interaction_chatusers=function(e){e=f(e),$.each(e,function(e,t){return t.id==S.viewerid||("publisher"==t.role&&!t.isMainSpeaker||void d.interaction.createOfferPeerConnection(t))})},window.on_cc_live_interaction_message=function(e){e=f(e);l("Interaction","rtc互动信息:"+JSON.stringify(e));var t=e.toid,n=e.fromid,i=e.fromname,o=e.type,a=e.data;"string"==typeof a&&(a=JSON.parse(a));var s=e.event;if("offer"===s){if(a.type=s,d.interaction.createAnswerPeerConnection({id:n,name:i,type:o}),!(r=d.interaction.usersPcs[n].pc))return;r.setRemoteDescription(new nativeRTCSessionDescription(a)),r.createAnswer(function(){},function(e){l("Interaction","Failure callback: "+e)})}else if("answer"===s){if(!(r=d.interaction.usersPcs[n].pc))return;a.type=s,l("Interaction","answer spark_message信息:"+a),r.setRemoteDescription(new nativeRTCSessionDescription(a)),r.receivedAnswer=!0,!r.hasAddIce&&r.RTCICE&&r.addIceCandidate(r.RTCICE)}else{var r,c=d.interaction.usersPcs[n];if(c||(c=d.interaction.usersPcs[t]),!(r=c?c.pc:null))return;var u=new RTCIceCandidate(a);r.receivedAnswer?(r.hasAddIce=!0,r.addIceCandidate(u)):(r.hasAddIce=!1,r.RTCICE=u)}},window.isDebug=!1;var l=function(e,t){window.isDebug&&console&&"function"==typeof console.log&&console.log(e,t)};function f(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return{}}return e}function e(){var e=P.delay;return(isNaN(e)||e<0)&&(e=0),e*=1e3,"isMobile"==O.isMobile()?0===e?5e3:1e4:0===e?1300:3e3}window.DWLive=S,window.live=d,window._swfInit=function(){"function"==typeof window.on_cc_live_player_ready&&window.on_cc_live_player_ready()},window._swfOk=function(e){"function"==typeof window.on_cc_swf_loading_completed&&window.on_cc_swf_loading_completed(e)}}(window)}]);