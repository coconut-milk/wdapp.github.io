!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){!function(){var e=1e4;function t(e){try{window.PeerConnection=window.PeerConnection||window.webkitPeerConnection00||window.webkitRTCPeerConnection||window.mozRTCPeerConnection,window.URL=window.URL||window.webkitURL||window.msURL||window.oURL,window.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.nativeRTCIceCandidate=window.mozRTCIceCandidate||window.RTCIceCandidate,window.nativeRTCSessionDescription=window.mozRTCSessionDescription||window.RTCSessionDescription}catch(e){}this.usersPcs={length:0},this.local={type:{video:!1,audio:!1},video:{},audio:{}},this.isRequesting=!1,this.requestInteraction=function(e,t){y("Interaction","请求互动"),this.local.type=e,this.isRequesting=!0,this.setRequestTimeoutTimer(),this.createLocalMedia(function(i){i?"function"==typeof window.on_cc_live_interaction_error&&window.on_cc_live_interaction_error(p.interaction.local.type,i,"创建音视频信息出错"):s.requestInteraction(e,t)})},this.setCallingTimer=function(){p.interaction.interactionTime=0,p.interaction.interactionTimeInterval=setInterval(function(){if(++p.interaction.interactionTime,"function"==typeof window.on_cc_live_interaction_interval){var e=p.interaction.local.type,t=p.interaction.interactionTime;window.on_cc_live_interaction_interval(e,t)}},1e3)},this.clearCallingTimer=function(){p.interaction.interactionTime=0,clearInterval(p.interaction.interactionTimeInterval)},this.setRequestTimeoutTimer=function(){p.interaction.REQUEST_INTERACTION_TIMEOUT=setTimeout(function(){p.interaction.REQUEST_INTERACTION_TIMEOUT=-1,p.interaction.hangupInteraction(o.viewerid),p.interaction.stopLocalStream(),p.interaction.isRequesting=!1,$("#interactionLocalVideo")[0].src="",$("#videoInteraction").hide(),"function"==typeof window.on_cc_live_interaction_request_timeout&&window.on_cc_live_interaction_request_timeout(p.interaction.local.type)},6e4)},this.clearRequestTimeoutTimer=function(){0<p.interaction.REQUEST_INTERACTION_TIMEOUT&&(clearTimeout(p.interaction.REQUEST_INTERACTION_TIMEOUT),p.interaction.REQUEST_INTERACTION_TIMEOUT=-1)},this.stopLocalStream=function(){if(p.interaction.local.video.stream)try{p.interaction.local.video.stream.getTracks().forEach(function(e){e.stop()})}catch(e){}if(p.interaction.local.audio.stream)try{p.interaction.local.audio.stream.getTracks().forEach(function(e){e.stop()})}catch(e){}},this.cancelInteraction=function(){p.interaction.isRequesting=!1,"function"==typeof window.on_cc_live_interaction_cancal&&window.on_cc_live_interaction_cancal(p.interaction.local.type)},this.disconnectInteraction=function(e){o.openSound(),this.clearRequestTimeoutTimer(),e==o.viewerid?$.each(p.interaction.usersPcs,function(e,t){var i=t.pc;if(null==i)return!0;if(i.close(),i=null,p.interaction.usersPcs[e]){delete p.interaction.usersPcs[e];var n=p.interaction.usersPcs.length-1;p.interaction.usersPcs.length=n<0?0:n}}):$.each(p.interaction.usersPcs,function(t,i){var n=i.pc;if(!n)return!0;if(t!=e)return!0;if(n.close(),n=null,p.interaction.usersPcs[t]){delete p.interaction.usersPcs[t];var o=p.interaction.usersPcs.length-1;p.interaction.usersPcs.length=o<0?0:o}}),0==p.interaction.usersPcs.length&&this.stopLocalStream(),p.interaction.isInteractioning=!1,p.interaction.isRequesting=!1},this.createLocalAudioAndVideoMedia=function(e){var t=this;getUserMedia.call(navigator,{video:!0,audio:!0},function(i){t.local.video.stream=i,e&&"function"==typeof e&&e(i)},function(t){y("Interaction","getUserMedia error: "+t),e&&"function"==typeof e&&e(t)})},this.createLocalAudioMedia=function(e){var t=this;getUserMedia.call(navigator,{video:!1,audio:!0},function(i){t.local.audio.stream=i,e&&"function"==typeof e&&e(i)},function(t){y("Interaction","getUserMedia error: "+t),e&&"function"==typeof e&&e(t)})},this.createLocalMedia=function(e){var t=this,i=t.local.type;getUserMedia.call(navigator,i,function(n){i.video?t.local.video.stream=n:t.local.audio.stream=n,"function"==typeof window.on_cc_live_interaction_local_media&&window.on_cc_live_interaction_local_media(i,n),e&&"function"==typeof e&&e()},function(t){y("Interaction","getUserMedia error: "+t),e&&"function"==typeof e&&e(t)})},this.iceServers={iceServers:[{url:"stun:turn.csslcloud.net:3478",credential:"bokecc",username:"cc"},{url:"turn:turn.csslcloud.net:3478",credential:"bokecc",username:"cc"}]},this.createAnswerPeerConnection=function(e){var t=new PeerConnection(this.iceServers);"audio"==e.type?(p.interaction.local.audio.stream||this.createLocalAudioMedia(),t.addStream(p.interaction.local.audio.stream)):(p.interaction.local.video.stream||this.createLocalAudioAndVideoMedia(),t.addStream(p.interaction.local.video.stream)),t.onaddstream=function(t){"function"==typeof window.on_cc_live_interaction_remote_media&&window.on_cc_live_interaction_remote_media(p.interaction.local.type,e,t.stream)},t.createAnswer(function(i){t.setLocalDescription(i),o.sendInteractionMessage(p.interaction.local.type,e.id,"answer",i)},function(e){y("Interaction","Failure callback: "+e)}),t.onicecandidate=function(t){null!==t.candidate&&o.sendInteractionMessage(p.interaction.local.type,e.id,"",t.candidate)},p.interaction.usersPcs[e.id]={pc:t,user:e},p.interaction.usersPcs.length+=1},this.createOfferPeerConnection=function(e){var t=new PeerConnection(this.iceServers),i=p.interaction.local.type;i.video?t.addStream(p.interaction.local.video.stream):t.addStream(p.interaction.local.audio.stream),t.onaddstream=function(t){"function"==typeof window.on_cc_live_interaction_remote_media&&window.on_cc_live_interaction_remote_media(p.interaction.local.type,e,t.stream)},t.oniceconnectionstatechange=function(e){y("Interaction","iceConnectionState ..."+t.iceConnectionState),"failed"==t.iceConnectionState&&(y("Interaction","iceConnectionState failed"),p.interaction.hangupInteraction(),"function"==typeof window.on_cc_live_interaction_disconnect&&window.on_cc_live_interaction_disconnect({disconnectid:o.viewerid}))},t.createOffer(function(n){t.setLocalDescription(n),o.sendInteractionMessage(i,e.id,"offer",n)},function(e){"function"==typeof window.on_cc_live_interaction_error&&window.on_cc_live_interaction_error(p.interaction.local.type,e,"createOfferPeerConnection")}),t.onicecandidate=function(t){null!==t.candidate&&o.sendInteractionMessage(i,e.id,"",t.candidate)},p.interaction.usersPcs[e.id]={pc:t,user:e},p.interaction.usersPcs.length+=1},this.id=e.interaction.id,this.isSupportInteraction=function(){return"https:"===window.location.protocol&&!!(PeerConnection&&URL&&getUserMedia&&nativeRTCIceCandidate&&nativeRTCSessionDescription)},this.hangupInteraction=function(e){this.isInteractioning?s.hangupInteraction(this.type,e):(this.isRequesting&&s.cancelRequestInteraction(this.type,e),this.stopLocalStream(),this.cancelInteraction())}}var i=function(e,t,i){$.ajax({url:e,type:"GET",dataType:"jsonp",data:t,xhrFields:{withCredentials:!0},success:function(e){e.success?"function"==typeof i?i(e):console.log&&console.log("onQuestionnairePublish is undefined"):i(e)},error:function(e){"function"==typeof i?i({errorCode:1,msg:"request error",result:e}):console.log&&console.log("onQuestionnairePublish is undefined")}})},n={DocModeType:{NormalMode:0,FreeMode:1},dpc:{},fastMode:!1,init:function(){this.dpc=new Dpc},appendDrawPanel:function(){var e='<iframe id="dpa" allow-scripts allowfullscreen allowusermedia frameborder="0" style="width: 100%;height:100%;"></iframe>';"isMobile"==v.isMobile()&&(e='<iframe id="dpa" allow-scripts allowfullscreen allowusermedia frameborder="0" style="width: 100%;height:100%;pointer-events: none;"></iframe>'),$("#drawPanel").parent().append(e),$("div#drawPanel").remove(),"function"==typeof window.on_cc_live_db_flip&&window.on_cc_live_db_flip()},pageChange:function(e){this.fastMode&&this.dpc.pageChange(e)},animationChange:function(e){this.fastMode&&this.dpc.animationChange(e)},history:function(e){this.fastMode&&this.dpc.history(e)},draw:function(e){this.fastMode&&this.dpc.draw(e)},clear:function(){this.fastMode&&this.dpc.clear()},reload:function(){this.fastMode&&this.dpc.reload()},setDocMode:function(e){this.fastMode&&this.dpc.setFreeDocMode(e)},getDocs:function(e){this.fastMode&&this.dpc.getDocs(o.roomid,o.userid,e)},changePageTo:function(e,t){this.fastMode&&this.dpc.changePageTo(e,t)},showMarquee:function(e){this.fastMode&&this.dpc.openMarquee(e)},closeMarquee:function(){this.fastMode&&this.dpc.closeMarquee()},openBarrage:function(e){this.fastMode&&this.dpc.openBarrage()},insertBarrage:function(e){if(this.fastMode){var t;try{t=JSON.parse(e)}catch(i){t={type:"text",content:e}}this.dpc.insertBarrage(t)}},closeBarrage:function(){this.fastMode&&this.dpc.closeBarrage()},docAdapt:function(e){if(this.fastMode){var t=e?"1":"2";this.dpc.setDisplayMode(t)}}},o={DocModeType:{NormalMode:0,FreeMode:1},MediaScaleMode:{scale43:"4:3",scale169:"16:9",scaleFull:"full",scaleNormal:"normal"},init:function(e){void 0===e&&(e={}),this.userid=$.trim(e.userid),this.roomid=$.trim(e.roomid),this.groupid=$.trim(e.groupid),this.viewername=$.trim(e.viewername),this.viewertoken=$.trim(e.viewertoken),this.forcibly=$.trim(e.forcibly),this.viewercustomua=$.trim(e.viewercustomua),this.language=$.trim(e.language),this.viewercustominfo=$.trim(e.viewercustominfo),this.ua=$.trim(e.ua),this.viewerid=$.trim(e.viewerid),this.upid=$.trim(e.upid),"string"==typeof e.fastMode?"false"===e.fastMode?this.fastMode=!1:this.fastMode=!0:"boolean"==typeof e.fastMode?this.fastMode=e.fastMode:this.fastMode=!1,n.fastMode=this.fastMode,this.forceNew=!1,"boolean"==typeof e.forceNew&&(this.forceNew=e.forceNew);var t=this,i=["//static.csslcloud.net/js/socket.io.js","//static.csslcloud.net/js/report.js"];if(n.fastMode&&i.push("//image.csslcloud.net/js/dpc.js?v=20180121"),"isMobile"==v.isMobile())0<$("#drawPanel").length&&(n.fastMode||i.push("//static.csslcloud.net/js/module/drawingBoard-2.0.0.js"));else{if(!function(){var e=!0;if(0<=navigator.appVersion.indexOf("MSIE"))try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){e=!1}else navigator.plugins["Shockwave Flash"]||(e=!1);return e}()&&("function"==typeof o.onNotSupportFlash&&o.onNotSupportFlash(),"18452D400D6B81D5"==this.userid)){var a=$("#"+r.id).parent().height(),s=$("#"+r.id).parent().width();$("#"+r.id).append('<div style="z-index: 999999;"><p style="color: #0e0e0e; width: 260px;">您还没有安装flash播放器,请点击<a href="http://www.adobe.com/go/getflash" style="color: red;" target="_blank">这里</a>安装</p></div>').parent().css("z-index","999999");var c=$($("#"+r.id+" div p")[0]).height(),u=$($("#"+r.id+" div p")[0]).width();$("#"+r.id+" div").css({"margin-left":(s-u-60)/2+"px","margin-top":(a-c)/2+"px"}),setInterval(function(){$("#"+r.id).parent().show()},3e3)}i.push("//static.csslcloud.net/js/swfobject.js","//static.csslcloud.net/js/json3.min.js")}t.loadScript(i,function(){t.login(function(){t.history=new h}),"isMobile"==v.isMobile()&&$.DrawingBoard&&($("#drawPanel").parent().append('<canvas id="drawPanel" width="1200" height="1200" style="position: absolute;z-index:2;top:0;left: 0"></canvas><iframe id="dpa" src="" frameborder="0" style="position: absolute;top:0;left: 0"></iframe>'),$("div#drawPanel").remove(),$.DrawingBoard.config())})},login:function(t){$.ajax({url:"//view.csslcloud.net/api/room/login",type:"GET",dataType:"jsonp",data:{roomid:this.roomid,userid:this.userid,groupid:this.groupid,viewername:this.viewername,viewertoken:this.viewertoken,forcibly:this.forcibly,viewercustomua:this.viewercustomua,viewercustominfo:this.viewercustominfo},success:function(i){if(i.success){var a="https:"===window.location.protocol,u=i.datas.pusherNode.primary;if(a&&u&&u.indexOf(":")){var d=u.split(":");if(2==d.length){var l=parseInt(d[1]);if(!isNaN(l)){var f=l+400;u=d[0]+":"+f}}}var h=document.location.protocol+"//"+u+"/"+i.datas.pusher.nsp,p=i.datas.viewer.key;s.options.pusherUrl=h,s.options.key=p,o.viewerid=i.datas.viewer.id,o.viewername=i.datas.viewer.name,o.isBan=i.datas.room.isBan,o.liveid=i.datas.liveId,o.upid=i.datas.upId,o.multiQuality=i.datas.room.multiQuality,o.documentDisplayMode=i.datas.room.documentDisplayMode,o.liveCountdown=i.datas.room.liveCountdown,o.groupId=i.datas.viewer.groupId,n.fastMode&&($("#documentDisplayMode").val(o.documentDisplayMode),n.appendDrawPanel(),n.init()),t();var m=i.datas.room.delayTime,y=i.datas.room.foreignPublish;(r.delay=m)<=0&&(e=5e3),r.foreignPublish=y,r.openHostMode=i.datas.room.openHostMode,r.dvr=i.datas.room.dvr,r.barrageData=i.datas.room.barrage,r.warmVideoId=i.datas.room.encryptWarmVideoId,r.viewerid=i.datas.viewer.id;var _=i.datas.room.playerBackgroundImageUri;_?(a="https:"===window.location.protocol)&&(_=_.replace(/http:/g,"https:")):_="",r.backgroundImageUri=_,"function"==typeof o.playerBackgroundImageUri&&o.playerBackgroundImageUri(_);var b=i.datas.room.playerBackgroundHint;b||(b=""),r.backgroundHint=b,"function"==typeof o.playerBackgroundHint&&o.playerBackgroundHint(b);var M=i.datas.announcement;"function"==typeof o.onAnnouncementShow&&M&&o.onAnnouncementShow(M);var S=i.datas.room.desc;"function"==typeof o.onLiveDesc&&o.onLiveDesc(S);var I=i.datas.room.showUserCount;"function"==typeof o.showUserCount&&o.showUserCount(I);var P=i.datas.viewer.marquee;if("function"==typeof o.getMarquee&&o.getMarquee(P),"function"==typeof o.onLoginSuccess){var k={desc:i.datas.template.desc,type:i.datas.template.type,name:i.datas.template.name,id:i.datas.template.id},T={id:i.datas.viewer.id,groupId:i.datas.viewer.groupId,name:i.datas.viewer.name},C={live:i.datas.live,template:k,viewer:T};o.onLoginSuccess(C)}var N=i.datas.live;switch("function"==typeof o.onLiveTime&&o.onLiveTime(N),s.init(),"isMobile"==v.isMobile()?v.init():r.init(),i.datas.template.type){case 6:w.init(),o.sendPublicChatMsg=o.sendPrivateChatMsg=function(){return!1};break;case 5:g.init(),w.init(),c.init();break;case 4:g.init(),c.init(),o.sendQuestionMsg=function(){return!1};break;case 3:g.init(),o.sendQuestionMsg=function(){return!1};break;case 2:g.init(),w.init();break;default:g.init(),w.init(),c.init()}}else"function"==typeof o.onLoginError&&o.onLoginError(i)}})},logout:function(e){e&&($.ajax({url:"//view.csslcloud.net/api/live/logout",type:"GET",dataType:"jsonp",timeout:5e3,xhrFields:{withCredentials:!0},success:function(t){"function"==typeof e.success&&e.success(t)},error:function(t,i,n){"function"==typeof e.error&&e.error({errorcode:"100",msg:"退出失败",info:n})}}),s.socket.disconnect())},getScript:function(e,t){var i=!1,n=document.createElement("script");n.src=e,n.onload=n.onreadystatechange=function(){i||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(i=!0,t&&t())},document.body.appendChild(n)},loadScript:function(e,t){if("string"==typeof e){var i=e;(e=[]).push(i)}var n=this,o=function(e,t){n.getScript(e.shift(),function(){e.length?o(e,t):t&&t()})};o(e,t)},changeNickname:function(e){if(!e||"string"!=typeof e||20<e.length)return!1;s.socket.emit("change_nickname",e)},sendPublicChatMsg:function(e){!e||300<e.length||s.socket.emit("chat_message",e)},sendPrivateChatMsg:function(e,t,i){var n=(new Date).getHours(),o=(new Date).getMinutes(),a=(new Date).getSeconds();o=9<o?o:"0"+o,a=9<a?a:"0"+a;var r={fromuserid:this.viewerid,fromusername:this.viewername,touserid:e,tousername:t,msg:$.trim(i),time:n+":"+o+":"+a};s.socket.emit("private_chat",JSON.stringify(r))},sendQuestionMsg:function(e){if(e&&!(300<e.length)){var t={action:"question",value:{userId:this.viewerid,userName:this.viewername,content:e}};try{s.socket.emit("question",JSON.stringify(t))}catch(e){}}},barrage:function(e,t){if("isMobile"!=v.isMobile()){var i=$.trim(e);i&&(i=e.replace(/\[em2?_([0-9]*)\]/g,""),r.barrage({txt:i,color:null==t?16777215:t}))}},getLine:function(){return"isMobile"!=v.isMobile()?r.getLine():v.src},changeLine:function(e){"isMobile"==v.isMobile()?v.changeLine(e):r.changeLine(e)},onlyAudio:function(){"isMobile"==v.isMobile()?v.onlyAudio():r.onlyAudio()},changeVideoScale:function(e){"isMobile"!=v.isMobile()&&r.changeVideoScale(e)},setSound:function(e){"isMobile"!=v.isMobile()&&r.setSound(e)},answerRollcall:function(e,t){var i={rollcallId:e,userId:this.viewerid,userName:this.viewername,publisherId:t};s.socket.emit("answer_rollcall",JSON.stringify(i))},replyVote:function(e,t,i){var n={voteId:e,voteOption:t,publisherId:i};s.socket.emit("reply_vote",JSON.stringify(n))},docBarrage:function(e,t){$.trim(e)&&c.barrage({txt:e,color:null==t?16777215:t})},openBarrage:function(e){r.openBarrage(e)},openDocBarrage:function(e){"isMobile"!=v.isMobile()&&n.fastMode&&n.openBarrage(e)},insertDocBarrage:function(e){"isMobile"!=v.isMobile()&&n.fastMode&&n.insertBarrage(e)},closeDocBarrage:function(){"isMobile"!=v.isMobile()&&n.fastMode&&n.closeBarrage()},showControl:function(e){r.showControl(e)},livePlayerInit:function(){r.init()},openSound:function(){r.openSound()},closeSound:function(){r.closeSound()},docAdapt:function(e){n.fastMode?n.docAdapt(e):p.adapt=e},requestInteraction:function(e){p.interaction.requestInteraction(e)},hangupInteraction:function(){p.interaction.hangupInteraction()},enterInteractionRoom:function(e){var t=void 0;try{s.socket.emit("speak_enter")}catch(e){t=e}finally{"function"==typeof e&&e(t)}},sendInteractionMessage:function(e,t,i,n,o){var a="audio";e.video&&(a="audiovideo");var r={type:a,fromname:this.viewername,fromid:this.viewerid,fromrole:"student",toid:t,event:i,data:JSON.stringify(n)},c=void 0;try{s.socket.emit("speak_message",JSON.stringify(r))}catch(e){c=e}finally{"function"==typeof o&&o(c)}},showMarquee:function(e){r.showMarquee(e)},closeMarquee:function(){r.closeMarquee()},showMarqueeDoc:function(e){n.fastMode?n.showMarquee(e):c.showMarquee(e)},closeMarqueeDoc:function(){n.fastMode&&n.closeMarquee()},setDocMode:function(e){n.fastMode&&n.setDocMode(e)},getDocs:function(e){n.fastMode&&n.getDocs(e)},changePageTo:function(e,t){n.fastMode&&n.changePageTo(e,t)},submitQuestionnaire:function(e,t){if(e){var i={questionnaireid:e.questionnaireId,answers:JSON.stringify({subjectsAnswer:e.subjectsAnswer})};$.ajax({url:"//eva.csslcloud.net/api/questionnaire/submit",type:"GET",dataType:"jsonp",timeout:5e3,data:i,xhrFields:{withCredentials:!0},success:function(e){t?t(e):console.log&&console.log("no callback")},error:function(e,i,n){t&&t({errorCode:1,msg:"request was aborted",result:n})}})}},getPublishingQuestionnaire:function(){i("//eva.csslcloud.net/api/questionnaire/info",{},o.onQuestionnairePublish)},getPracticeInfo:function(e,t){var n={practiceId:e,sessionId:s.options.key};i("//eva.csslcloud.net/api/practice/info",n,t)},submitPracticeInfo:function(e,t,n){var o={practiceId:e,options:t,sessionId:s.options.key};i("//eva.csslcloud.net/api/practice/submit",o,n)},getPracticeStatisInfo:function(e,t){var n={practiceId:e,sessionId:s.options.key};i("//eva.csslcloud.net/api/practice/statis",n,t)},getPracticeRanking:function(e,t){var n={practiceId:e,sessionId:s.options.key};i("//eva.csslcloud.net/api/practice/ranking",n,t)}},a={init:function(){this.userId=o.userid,this.roomId=o.roomid,this.groupId=o.groupId,this.liveId=o.liveid,this.viewerId=o.viewerid,this.upId=o.upid}},s={options:{pusherUrl:"",key:"",maxMessageCount:300,userId:"",roomId:"",livePlayerId:"",drawPanel:""},drawjson:[],pagechangedata:[],init:function(){var e="isMobile"==v.isMobile()?1:0;o.forceNew?(this.socket=io.connect(this.options.pusherUrl+"?sessionid="+s.options.key+"&platform=1&terminal="+e,{forceNew:!0}),y("forceNew: true")):(this.socket=io.connect(this.options.pusherUrl,{query:{sessionid:s.options.key,platform:1,terminal:e}}),y("forceNew: false")),this.bind()},bind:function(){var e=!1;this.socket.on("connect",function(){"function"==typeof window.onSocketConnect&&window.onSocketConnect()}),this.socket.on("disconnect",function(){"function"==typeof window.onSocketDisconnect&&window.onSocketDisconnect()}),this.socket.on("page_change",function(e){if(e&&"string"==typeof e&&s.pagechangedata.push(JSON.parse(e)),"function"==typeof window.on_cc_live_dw_page_change&&window.on_cc_live_dw_page_change(e),"function"==typeof o.onPageChange){var t=JSON.parse(e),i={docId:t.value.docid,docName:t.value.fileName,docTotalPage:t.value.totalPage,pageNum:t.value.page};o.onPageChange(i)}}),this.socket.on("change_nickname",function(e){o.viewername=e,"function"==typeof o.onChangeNickname&&o.onChangeNickname(e)}),this.socket.on("animation_change",function(e){"function"==typeof window.on_cc_live_dw_animation_change&&window.on_cc_live_dw_animation_change(e)}),this.socket.on("draw",function(e){e&&"string"==typeof e&&s.drawjson.push(JSON.parse(e)),"function"==typeof window.on_cc_live_dw_draw&&window.on_cc_live_dw_draw(e)}),this.socket.on("room_user_count",function(e){"function"==typeof o.onUserCountMessage&&o.onUserCountMessage(e)}),this.socket.on("publish_stream",function(e){r&&(r.isPublishing=1),r&&r.start&&r.start(),"function"==typeof o.onLiveStart&&o.onLiveStart(e)}),this.socket.on("end_stream",function(e){setTimeout(function(){r&&(r.isPublishing=0),r&&r.end&&r.end(),c&&c.clear&&c.clear(),n.clear(),"function"==typeof o.onLiveEnd&&o.onLiveEnd(e)},function(){var e=r.delay;return(isNaN(e)||e<0)&&(e=0),"isMobile"==v.isMobile()?0===e?5e3:1e4:0===e?1300:3e3}())}),this.socket.on("kick_out",function(e){s.socket.disconnect(),"function"==typeof o.onKickOut&&o.onKickOut(e),v.isIPad()||v.isIPhone()||v.isAndroid()||v.isWindowsPhone()||r.getFlash()._kickOff()}),this.socket.on("announcement",function(e){"release"==(e=_(e)).action?"function"==typeof o.onAnnouncementRelease&&o.onAnnouncementRelease(e.announcement):"remove"==e.action&&"function"==typeof o.onAnnouncementRemove&&o.onAnnouncementRemove(e)}),this.socket.on("start_rollcall",function(e){e=_(e),"function"==typeof o.onStartRollCall&&o.onStartRollCall(e)}),this.socket.on("start_lottery",function(e){e=_(e),"function"==typeof o.onStartLottery&&o.onStartLottery(e)}),this.socket.on("win_lottery",function(e){e=_(e),"function"==typeof o.onWinLottery&&o.onWinLottery(e)}),this.socket.on("stop_lottery",function(e){e=_(e),"function"==typeof o.onStopLottery&&o.onStopLottery(e)}),this.socket.on("start_vote",function(e){e=_(e),"function"==typeof o.onStartVote&&o.onStartVote(e)}),this.socket.on("stop_vote",function(e){e=_(e),"function"==typeof o.onStopVote&&o.onStopVote(e)}),this.socket.on("vote_result",function(e){e=_(e),"function"==typeof o.onVoteResult&&o.onVoteResult(e)}),this.socket.on("ban_stream",function(e){e=_(e),o.isBan=1,"isMobile"==v.isMobile()?v.ban():r.banLive(),"function"==typeof o.onBanStream&&o.onBanStream(e)}),this.socket.on("unban_stream",function(e){e=_(e),o.isBan=0,"isMobile"==v.isMobile()?v.unban():r.unbanLive(),"function"==typeof o.onUnBanStream&&o.onUnBanStream(e)}),this.socket.on("room_setting",function(t){if(t=_(t),"function"==typeof o.onRoomSetting&&o.onRoomSetting(t),t.layout_video_main!=e){var i=t.layout_video_main;"function"==typeof o.onSwitchVideoDoc&&o.onSwitchVideoDoc(i),e=i}}),this.socket.on("silence_user_chat_message",function(e){"function"==typeof o.onSilenceUserChatMessage&&o.onSilenceUserChatMessage(_(e))}),this.socket.on("accept_speak",function(e){"function"==typeof window.on_cc_live_accept_interaction&&window.on_cc_live_accept_interaction(_(e))}),this.socket.on("speak_message",function(e){"function"==typeof window.on_cc_live_interaction_message&&window.on_cc_live_interaction_message(_(e))}),this.socket.on("speak_peer_list",function(e){"function"==typeof window.on_cc_live_interaction_chatusers&&window.on_cc_live_interaction_chatusers(_(e))}),this.socket.on("speak_disconnect",function(e){"function"==typeof window.on_cc_live_interaction_disconnect&&window.on_cc_live_interaction_disconnect(_(e))}),this.socket.on("broadcast_msg",function(e){"function"==typeof o.onBroadcastMsg&&o.onBroadcastMsg(_(e).value)}),this.socket.on("publish_question",function(e){"function"==typeof o.onQaPublish&&o.onQaPublish(_(e))}),this.socket.on("questionnaire_publish",function(e){e=_(e),"function"==typeof o.onQuestionnairePublish&&o.onQuestionnairePublish(e)}),this.socket.on("questionnaire_publish_stop",function(e){e=_(e),"function"==typeof o.onQuestionnairePublishStop&&o.onQuestionnairePublishStop(e)}),this.socket.on("practice_publish",function(e){e=_(e),"function"==typeof o.onPracticePublish&&o.onPracticePublish(e)}),this.socket.on("practice_stop",function(e){e=_(e),"function"==typeof o.onPracticePublishStop&&o.onPracticePublishStop(e)}),this.socket.on("practice_close",function(e){e=_(e),"function"==typeof o.onPracticeClose&&o.onPracticeClose(e)}),this.socket.on("prize_send",function(e){e=_(e),"function"==typeof o.onPrizeSend&&o.onPrizeSend(e)}),this.socket.on("questionnaire_publish_statis",function(e){e=_(e),"function"==typeof o.onQuestionnairePublishStatis&&o.onQuestionnairePublishStatis(e)}),this.socket.on("room_teachers",function(e){"function"==typeof o.onOnlineTeachers&&o.onOnlineTeachers(_(e))}),this.socket.on("external_questionnaire_publish",function(e){"function"==typeof o.onExternalQuestionnairePublish&&o.onExternalQuestionnairePublish(_(e))}),this.socket.on("ban_chat",function(e){"function"==typeof o.onBanChat&&o.onBanChat(_(e))}),this.socket.on("unban_chat",function(e){"function"==typeof o.onUnBanChat&&o.onUnBanChat(_(e))}),this.socket.on("switch_source",function(e){"function"==typeof o.onSwitchSource&&o.onSwitchSource(e)});var t=this;setTimeout(function(){try{t.socket.emit("room_user_count")}catch(e){}try{t.socket.emit("room_teachers")}catch(e){}},1500),setInterval(function(){try{t.socket.emit("room_user_count")}catch(e){}try{t.socket.emit("room_teachers")}catch(e){}},15e3)},requestInteraction:function(e,t){var i="audio";e.video&&(i+="video");var n={viewerId:o.viewerid,viewerName:o.viewername,type:i},a=void 0;try{this.socket.emit("request_speak",JSON.stringify(n))}catch(e){a=e}finally{"function"==typeof t&&t(a)}},cancelRequestInteraction:function(e,t){var i={viewerId:this.viewerid,viewerName:this.viewername,type:e};y("interaction","取消申请："+JSON.stringify(i));var n=void 0;try{this.socket.emit("cancel_request_speak",JSON.stringify(i))}catch(e){n=e}finally{"function"==typeof t&&t(n)}},hangupInteraction:function(e,t){var i={viewerId:o.viewerid,viewerName:o.viewername,type:e};y("interaction","挂断事件："+JSON.stringify(i));var n=void 0;try{this.socket.emit("hangup_interaction",JSON.stringify(i))}catch(e){n=e}finally{"function"==typeof t&&t(n)}}},r={id:"livePlayer",swfUrl:"//zeus.csslcloud.net/flash/Player.swf",isReady:!1,isPublishing:0,delay:"",foreignPublish:"",init:function(){var e={userid:o.userid,roomid:o.roomid,foreignPublish:this.foreignPublish,warmvideoid:this.warmVideoId,openhostmode:this.openHostMode,dvr:this.dvr,barrage:this.barrageData,backgroundImageUri:this.backgroundImageUri,backgroundHint:this.backgroundHint,countDownTime:o.liveCountdown,openMultiQuality:o.multiQuality,language:o.language||"",type:"liveplayer",upid:o.upid,viewerid:this.viewerid,ua:1},t=this.delay;0<t&&(e.buffer=t),swfobject.embedSWF(this.swfUrl,this.id,"100%","100%","10.0.0","/flash/expressInstall.swf",e,{allowFullscreen:"true",allowScriptAccess:"always",wmode:"transparent"})},getFlash:function(){return swfobject.getObjectById(this.id)},getPlayerTime:function(){var e=parseInt(this.getFlash()._time());return isNaN(e)||e<0?0:e},start:function(){if("isMobile"==v.isMobile()){if(o.isBan)return $("#livePlayer").css({"text-align":"center",color:"white","font-size":"18px","line-height":"232px"}),void $("#livePlayer").html("<p>直播已封禁，请联系管理员</p>");setTimeout(function(){v.init()},e)}else{if(!this.getFlash())return;this.isPublishing=1,this.getFlash()._streamStart()}},end:function(){if("isMobile"==v.isMobile())setTimeout(function(){v.end()},e);else{if(!this.getFlash())return;this.isPublishing=0,this.getFlash()._streamEnd()}},barrage:function(e){e&&this.getFlash()&&this.getFlash()._jsTOASbarrage&&this.getFlash()._jsTOASbarrage(e)},getLine:function(){var e=this.getFlash().getLine();return e&&(e=JSON.parse(e)),e},changeLine:function(e){this.getFlash().changeLine(e)},changeVideoScale:function(e){this.getFlash()._showScreenScale(e)},onlyAudio:function(){this.getFlash()._onlyAudio()},setSound:function(e){this.getFlash()._SetSound(e)},openSound:function(){this.getFlash()&&this.getFlash()._onSound()},closeSound:function(){this.getFlash()&&this.getFlash()._unSound()},openBarrage:function(e){this.getFlash()&&this.getFlash()._barrage(e)},showControl:function(e){this.getFlash()&&this.getFlash()._ShowControl(e)},banLive:function(){this.getFlash()&&this.getFlash()._banLive()},unbanLive:function(){this.getFlash()&&this.getFlash()._unbanLive()},showMarquee:function(e){e&&this.getFlash()&&this.getFlash()._showMarqueePlugin(e)},closeMarquee:function(){this.getFlash()&&this.getFlash()._closeMarqueePlugin({name:"PluginForMarquee"})}},c={id:"drawPanel",isReady:!(window._onStart=function(){r.isReady=!0}),isProcessing:!1,getWidth:function(){return"100%"},getHeight:function(){return"100%"},swfUrl:"//zeus.csslcloud.net/flash/Player.swf",init:function(){v.isIPad()||v.isIPhone()||v.isAndroid()||v.isWindowsPhone()||n.fastMode||swfobject.embedSWF(this.swfUrl,this.id,this.getWidth(),this.getHeight(),"10.0.0","/flash/expressInstall.swf",{type:"drawpanel"},{allowFullscreen:"true",allowScriptAccess:"always",wmode:"transparent"},{})},getSwf:function(){if(this.isReady)return swfobject.getObjectById(this.id)},clear:function(){var e=this.getSwf();e&&(e._streamEnd(),s.pagechangedata=[],s.drawjson=[])},draw:function(e){var t=this.getSwf();t&&t.draw(e)},draws:function(e){var t,i=this.getSwf();i&&(t=e,setTimeout(function(){i.drawList(t)}))},filp:function(e){var t=this.getSwf();if(t){var i=o.documentDisplayMode;this.displayMode=1==i?"auto":2==i?"width":"auto",void 0!==p.adapt&&(this.displayMode=p.adapt?"auto":"width");var n=JSON.parse(e),a=n.url;"https:"===window.location.protocol&&(n.url=a.replace(/http:/g,"https:")),t.filp(JSON.stringify(n),this.displayMode)}},animationFilp:function(e){var t=this.getSwf();t&&t.animation(e)},barrage:function(e){e&&this.getSwf()&&this.getSwf()._jsTOASbarrage&&this.getSwf()._jsTOASbarrage(e)},showMarquee:function(e){e&&this.getSwf()&&this.getSwf().showMarqueeLight(e)}},u=[],d=[],l=[],f=!1,h=function(){$.ajax({url:"//view.csslcloud.net/api/view/info?userid="+o.userid+"&roomid="+o.roomid,type:"GET",dataType:"jsonp",success:function(e){if(e.success&&e.datas){var t=e.datas.meta;if(t&&(r.isPublishing=t.isPublishing,1==t.isPublishing)){for(var i=t.answer?t.answer:[],a=t.question?t.question:[],s=t.broadcast?t.broadcast:[],c=0;c<i.length;c++)for(var h=i[c],p=0;p<a.length;p++)(g=a[p]).encryptId==h.encryptId&&(h.questionUserId=g.questionUserId);if(a&&a.length)for(c=0;c<a.length;c++){var g=a[c];"function"==typeof o.onQuestion&&o.onQuestion(JSON.stringify({action:"question",value:{id:g.encryptId,content:g.content,userId:g.questionUserId,groupId:g.groupId,userName:g.questionUserName,isPublish:g.isPublish,triggerTime:g.triggerTime,userAvatar:g.userAvatar}}))}if(i&&i.length)for(c=0;c<i.length;c++)h=i[c],"function"==typeof o.onAnswer&&o.onAnswer(JSON.stringify({action:"answer",value:{questionId:h.encryptId,isPrivate:h.isPrivate,content:h.content,userId:h.answerUserId,groupId:h.groupId,userName:h.answerUserName,questionUserId:h.questionUserId,triggerTime:h.triggerTime,userAvatar:h.userAvatar}}));if(s&&s.length)for(c=0;c<s.length;c++){var w=s[c];"function"==typeof o.onBroadcastMsg&&o.onBroadcastMsg({content:w.content,time:w.time})}"isMobile"==v.isMobile()&&$.DrawingBoard&&$.DrawingBoard.history(t),n.history(t);var m=t.chatLog;if(m&&m.length){var y=[];for(c=0;c<m.length;c++){var _=m[c];y.push({userid:_.userId,username:_.userName,userrole:_.userRole,useravatar:_.userAvatar,groupId:_.groupId,msg:_.content,time:_.time,chatId:_.chatId,status:_.status,usercustommark:_.userCustomMark})}if("function"==typeof o.onPublicChatMessage)for(var b=0;b<y.length;b++)o.onPublicChatMessage(JSON.stringify(y[b]))}if(!n.fastMode){var M=t.pageChange;if(M&&M.length){M.sort(function(e,t){return parseInt(e.time)-parseInt(t.time)});var S=M.pop();d.push(JSON.stringify({fileName:S.docName,totalPage:S.docTotalPage,docid:S.encryptDocId,url:S.url,page:S.pageNum,time:S.time,useSDK:S.useSDK}))}var I=t.animation;if(I&&I.length){I.sort(function(e,t){return parseInt(e.time)-parseInt(t.time)});var P=I.pop();l.push(JSON.stringify({fileName:P.docName,totalPage:P.docTotalPage,docid:P.encryptDocId,url:P.url,page:P.pageNum,time:P.time,step:P.step}))}var k=t.draw;if(k&&k.length)for(c=0;c<k.length;c++)u.push(k[c].data)}f=!0}}}})},p=new function(e){this.interaction=new t({interaction:{id:"interactionPlayer",width:"100%",height:"100%"}})}({interaction:{id:"interactionPlayer",width:"100%",height:"100%"}});window.on_drampanel_ready=function(){c.isReady=!0,setTimeout(function(){!function e(){if(f){if(!n.fastMode&&(u.length&&(c.draws(u),u=[]),d.length)){var t=d.pop();if(!t)return;if(c.filp(t),l.length){var i=l.pop(),o=_(i),a=_(t);a.docid==o.docid&&a.time<=o.time&&c.animationFilp(i)}d=[]}}else setTimeout(function(){e()},3e3)}()},1500)},window.on_cc_live_dw_draw=function(e){setTimeout(function(){n.draw(e)},b()),setTimeout(function(){var t=_(e);c.draw(JSON.stringify(t.value.data))},b()),"isMobile"==v.isMobile()&&setTimeout(function(){$.DrawingBoard&&$.DrawingBoard.db(e)},b())},window.on_cc_live_dw_page_change=function(e){setTimeout(function(){n.pageChange(e)},b()),setTimeout(function(){var t=_(e);c.filp(JSON.stringify(t.value))},b()),"isMobile"==v.isMobile()&&setTimeout(function(){$.DrawingBoard&&$.DrawingBoard.db(e)},b())},window.on_cc_live_dw_animation_change=function(e){setTimeout(function(){n.animationChange(e)},b()),setTimeout(function(){var t=_(e);c.animationFilp(JSON.stringify(t.value))},b()),"isMobile"==v.isMobile()&&setTimeout(function(){$.DrawingBoard&&$.DrawingBoard.db(e)},b())};var g={init:function(){s.socket.on("chat_message",function(e){"function"==typeof o.onPublicChatMessage&&o.onPublicChatMessage(e)}),s.socket.on("chat_log_manage",function(e){"function"==typeof o.onPublicChatLogManage&&o.onPublicChatLogManage(e)}),s.socket.on("notification",function(e){"function"==typeof o.onNotification&&o.onNotification(e)}),s.socket.on("information",function(e){"function"==typeof o.onInformation&&o.onInformation(e)}),s.socket.on("private_chat_self",function(e){"function"==typeof o.onPrivateChatMessage&&o.onPrivateChatMessage(e)}),s.socket.on("private_chat",function(e){"function"==typeof o.onPrivateAnswer&&o.onPrivateAnswer(e)}),s.socket.on("room_context",function(e){}),s.socket.on("custom_message",function(e){"function"==typeof o.onCustomChatMessage&&o.onCustomChatMessage(e)})}},w={init:function(){s.socket.on("question",function(e){"function"==typeof o.onQuestion&&o.onQuestion(e),"function"==typeof o.onQuestionSend&&o.onQuestionSend(e)}),s.socket.on("answer",function(e){"function"==typeof o.onAnswer&&o.onAnswer(e),"function"==typeof o.onAnswerSend&&o.onAnswerSend(e)})}},m={addEvents:function(e,t,i){document.addEventListener?m.addEvents=function(e,t,i){e.addEventListener(t,i,!1)}:m.addEvents=function(e,t,i){e.attachEvent("on"+t,function(){i.call(e,arguments)})},m.addEvents(e,t,i)}},v={src:"",audio:!1,line:0,init:function(){var e=this;$.ajax({url:"//zeus.csslcloud.net/api/hls/play",type:"GET",dataType:"json",data:{roomid:o.roomid,userid:o.userid},success:function(t){if(0==t.live.status){e.m3u8=t.live.m3u8,e.src=t.live.m3u8,e.secureHosts=t.live.secureHosts||[],e.audioM3u8=t.live.audioM3u8||[],e.audioSecureHosts=t.live.audioSecureHosts||[],e.isHttps="https:"===window.location.protocol,a.init(),a.liveId=t.live.liveId,e.isHttps&&e.secureHosts&&e.secureHosts.length&&(e.m3u8=e.secureHosts),e.appendVideo(e.m3u8[0]),"function"==typeof o.onLiveStarting&&o.onLiveStarting();var i=$("#livePlayer>video")[0],n=0,s=function(){3<=n?i.removeEventListener("error",s):(i.removeEventListener("error",s),setTimeout(function(){n++,i.src=i.src,m.addEvents(i,"error",s,!1)},1e3))};m.addEvents(i,"error",s,!1)}else if(o.isBan)return $("#livePlayer").css({"text-align":"center",color:"white","font-size":"18px","line-height":"232px"}),void $("#livePlayer").html("<p>直播已封禁，请联系管理员</p>")}})},appendVideo:function(e){var t='<video id="player_live" webkit-playsinline playsinline controls autoplay x-webkit-airplay="allow" x5-playsinline width="100%" height="100%" src="'+e+'"></video>';$("#"+r.id).html(t);var i=document.getElementById("player_live");o.onKickOut=function(){$("#"+r.id).html("")},this.report=new ReportLog(a,1,11,i,!0)},ban:function(){$("#livePlayer").css({"text-align":"center",color:"white","font-size":"18px","line-height":"232px"}),$("#livePlayer").html("<p>直播已封禁，请联系管理员</p>")},unban:function(){$("#livePlayer").css({"text-align":"",color:"","font-size":"","line-height":""}),this.init()},end:function(){$("#"+r.id).html(""),this.report.stopTimer()},appendDoc:function(e){"https:"===window.location.protocol&&(e=e.replace(/http:/g,"https:"));var t='<img src="'+e+'" />';$("#"+c.id).html(t)},changeLine:function(e){$("#"+r.id).find("video").attr("src",this.m3u8[e]),this.line=e,v.audio&&(audio.src="",audio.src=this.m3u8[this.line],audio.play())},onlyAudio:function(){var e=$("#"+r.id).find("video");v.audio=!v.audio,v.audio?(this.isHttps&&this.audioSecureHosts&&this.audioSecureHosts.length?this.m3u8=this.audioSecureHosts:this.m3u8=this.audioM3u8,audio=new Audio,audio.src=this.m3u8[this.line],audio.play()):(this.isHttps&&this.secureHosts&&this.secureHosts.length?this.m3u8=this.secureHosts:this.m3u8=this.src,audio.src="",e.attr("src",this.m3u8[this.line]))},isMobile:function(){if(this.isIPad()||this.isIPhone()||this.isAndroid()||this.isWindowsPhone())return"isMobile"},isIPad:function(){return null!=navigator.userAgent.match(/iPad/i)},isIPhone:function(){return null!=navigator.userAgent.match(/iPhone/i)},isAndroid:function(){return null!=navigator.userAgent.match(/Android/i)},isWindowsPhone:function(){return null!=navigator.userAgent.match(/Windows Phone/i)}};window.on_cc_live_accept_interaction=function(e){o.closeSound(),p.interaction.clearRequestTimeoutTimer(),o.enterInteractionRoom(),p.interaction.isInteractioning=!0,p.interaction.setCallingTimer(),"function"==typeof window.on_cc_live_interaction_accept&&window.on_cc_live_interaction_accept(p.interaction.local.type,_(e))},window.on_cc_live_interaction_chatusers=function(e){e=_(e),$.each(e,function(e,t){return t.id==o.viewerid||"publisher"==t.role&&!t.isMainSpeaker||void p.interaction.createOfferPeerConnection(t)})},window.on_cc_live_interaction_message=function(e){e=_(e),y("Interaction","rtc互动信息:"+JSON.stringify(e));var t=e.toid,i=e.fromid,n=e.fromname,o=e.type,a=e.data;"string"==typeof a&&(a=JSON.parse(a));var s=e.event;if("offer"===s){if(a.type=s,p.interaction.createAnswerPeerConnection({id:i,name:n,type:o}),!(r=p.interaction.usersPcs[i].pc))return;r.setRemoteDescription(new nativeRTCSessionDescription(a)),r.createAnswer(function(){},function(e){y("Interaction","Failure callback: "+e)})}else if("answer"===s){if(!(r=p.interaction.usersPcs[i].pc))return;a.type=s,y("Interaction","answer spark_message信息:"+a),r.setRemoteDescription(new nativeRTCSessionDescription(a)),r.receivedAnswer=!0,!r.hasAddIce&&r.RTCICE&&r.addIceCandidate(r.RTCICE)}else{var r,c=p.interaction.usersPcs[i];if(c||(c=p.interaction.usersPcs[t]),!(r=c?c.pc:null))return;var u=new RTCIceCandidate(a);r.receivedAnswer?(r.hasAddIce=!0,r.addIceCandidate(u)):(r.hasAddIce=!1,r.RTCICE=u)}},window.isDebug=!1;var y=function(e,t){window.isDebug&&console&&"function"==typeof console.log&&console.log(e,t)};function _(e){if("string"==typeof e)try{return JSON.parse(e)}catch(e){return{}}return e}function b(){var e=r.delay;return(isNaN(e)||e<0)&&(e=0),e*=1e3,"isMobile"==v.isMobile()?0===e?5e3:1e4:0===e?1300:3e3}window.DWLive=o,window.live=p,window._swfInit=function(){"function"==typeof window.on_cc_live_player_ready&&window.on_cc_live_player_ready()},window._swfOk=function(e){"function"==typeof window.on_cc_swf_loading_completed&&window.on_cc_swf_loading_completed(e)}}(window)}]);